{"version":3,"sources":["helper/Context.js","components/SearchBar/SearchBar.js","components/Chart/Chart.js","api.js","components/CountryRankings/CountryRankings.js","assets/header-img.svg","pages/Rankings.js","components/CounctryFactors/CountryFactors.js","assets/factors.svg","pages/Factors.js","assets/login.svg","pages/Login.js","assets/register.svg","pages/Register.js","pages/CountryDetails.js","assets/logo.PNG","components/Navbar/Navigation.js","assets/logowhite.png","components/Footer/Footer.js","pages/ProtectedRoute.js","assets/pagenotfound.svg","pages/PageNotFound.js","assets/503error.svg","pages/ServerError.js","App.js","index.js"],"names":["LoginContext","createContext","SearchBar","props","useState","currentCountry","selectedCountry","setSelectedCountry","currentYear","selectedYear","setSelectedYear","selectedLimit","setSelectedLimit","countryNames","setCountryNames","isClearableCountry","setIsClearableCountry","isClearableYear","setIsClearableYear","isClearableLimit","setIsClearableLimit","isLimitDisabled","setIsLimitDisabled","defaultLimitOptions","limitOptions","setLimitOptions","rowData","length","limtOptionsLength","setLimitOptionsLength","yearsOptions","label","value","toggleClearableCountry","toggleClearableYear","toggleClearableLimit","useEffect","fetch","then","res","json","countries","countryOptions","map","country","unshift","showAllYears","token","localStorage","getItem","headers","accept","Authorization","url","nums","Array","from","_","i","reverse","num","className","class","options","filter","option","isClearable","onChange","e","onSubmitCountry","onSubmitYear","showLimit","isDisabled","onSubmitLimit","Chart","chartData","setChartData","backgroundColors","labels","yAxis","datasets","category","data","xAxis","backgroundColor","scores","responsive","title","text","display","scales","xAxes","maxBarThickness","useCountryData","route","searchCountry","searchYear","searchLimit","loading","setLoading","setRowData","error","setError","rankings","ranking","rank","score","year","getCountryRankings","happinessRankings","catch","economy","family","health","freedom","generosity","trust","getCountryFactors","countryFactors","CountryRankings","document","history","useHistory","setSearchCountry","setSearchYear","resultMessage","setResultMessage","modal","setModal","toggleModal","topCountryNames","topHappinessScores","push","parseFloat","Badge","color","style","height","columnDefs","headerName","field","sortable","pagination","paginationPageSize","defaultColDef","flex","minWidth","domLayout","onRowClicked","row","pathname","search","state","Modal","isOpen","toggle","ModalHeader","ModalBody","ModalFooter","Button","onClick","Rankings","Jumbotron","window","location","href","src","heroimg","alt","CountryFactors","setDefaultLimitOptions","setSearchLimit","selectedFactor","setSelectedFactor","selectedFactorData","setSelectedFactorData","factorOptions","economyScores","familyScores","healthScores","freedomScores","generosityScores","trustScores","withRouter","factorsimg","Login","email","setEmail","password","setPassword","msg","loginMessage","setLoginMessage","useContext","setLoggedIn","loggedIn","Alert","id","type","name","placeholder","target","required","preventDefault","method","body","JSON","stringify","message","undefined","setItem","login","to","loginimg","Register","registerMessage","setRegisterMessage","console","log","register","registerimg","CountryDetails","countryName","URLSearchParams","useLocation","get","happinessScores","size","goBack","Navigation","setIsOpen","Container","Navbar","light","expand","NavbarBrand","logo","NavbarToggler","Collapse","navbar","Nav","removeItem","Footer","isAuth","Component","component","rest","render","PageNotFound","pagenotfound","ServerError","servererror","App","Provider","path","exact","Factors","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.eae608f1.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\n\r\nexport const LoginContext = createContext({});\r\n","import { React, useState, useEffect } from \"react\";\r\nimport Select from \"react-select\";\r\nimport \"./SearchBar.css\";\r\n\r\nfunction SearchBar(props) {\r\n  const [selectedCountry, setSelectedCountry] = useState(\r\n    `${props.currentCountry}`\r\n  );\r\n  const [selectedYear, setSelectedYear] = useState(`${props.currentYear}`);\r\n  const [selectedLimit, setSelectedLimit] = useState(\"All\");\r\n  const [countryNames, setCountryNames] = useState([]);\r\n  const [isClearableCountry, setIsClearableCountry] = useState(false);\r\n  const [isClearableYear, setIsClearableYear] = useState(false);\r\n  const [isClearableLimit, setIsClearableLimit] = useState(false);\r\n  const [isLimitDisabled, setIsLimitDisabled] = useState(false);\r\n  const [limitOptions, setLimitOptions] = useState(props.defaultLimitOptions);\r\n  const [limtOptionsLength, setLimitOptionsLength] = useState(\r\n    props.rowData.length\r\n  );\r\n\r\n  let yearsOptions = [\r\n    { label: \"2020\", value: \"2020\" },\r\n    { label: \"2019\", value: \"2019\" },\r\n    { label: \"2018\", value: \"2018\" },\r\n    { label: \"2017\", value: \"2017\" },\r\n    { label: \"2016\", value: \"2016\" },\r\n    { label: \"2015\", value: \"2015\" },\r\n  ];\r\n\r\n  // Fetch country names for dropdown\r\n  useEffect(() => {\r\n    const url = `https://salty-refuge-23420.herokuapp.com/countries`;\r\n    fetch(url)\r\n      .then((res) => res.json())\r\n      .then((countries) => {\r\n        let countryOptions = countries.map(function (country) {\r\n          return { label: country, value: country };\r\n        });\r\n        countryOptions.unshift({ label: \"All\", value: \"All\" });\r\n        setCountryNames(countryOptions);\r\n      });\r\n  }, []);\r\n\r\n  // Add 'All' years options only for rankings page\r\n  if (props.showAllYears) {\r\n    yearsOptions.unshift({ label: \"All\", value: \"All\" });\r\n  }\r\n\r\n  // Gets the total amount of limit options available for selected year (e.g. 153)\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    const headers = {\r\n      accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    };\r\n\r\n    const url = `http://131.181.190.87:3000/factors/${selectedYear}`;\r\n    fetch(url, { headers })\r\n      .then((res) => res.json())\r\n      .then((countries) => {\r\n        setLimitOptionsLength(countries.length);\r\n      });\r\n  }, [selectedYear]);\r\n\r\n  // Default limit options from CountryFactors component\r\n  useEffect(() => {\r\n    setLimitOptions(props.defaultLimitOptions);\r\n  }, [props.defaultLimitOptions]);\r\n\r\n  // Update limit options when selected year changes\r\n  useEffect(() => {\r\n    let nums = Array.from({ length: limtOptionsLength }, (_, i) => i + 1);\r\n    nums.reverse();\r\n    let limitOptions = nums.map(function (num) {\r\n      return { label: num, value: num };\r\n    });\r\n    limitOptions.unshift({ label: \"All\", value: \"All\" });\r\n    setLimitOptions(limitOptions);\r\n  }, [selectedYear, limtOptionsLength]);\r\n\r\n  // Check if limit input should be disabled\r\n  useEffect(() => {\r\n    if (selectedCountry !== \"All\") {\r\n      setIsLimitDisabled(true);\r\n    } else {\r\n      setIsLimitDisabled(false);\r\n    }\r\n  }, [selectedCountry]);\r\n\r\n  // Functions for clearning input search\r\n\r\n  function toggleClearableCountry() {\r\n    setIsClearableCountry(!isClearableCountry);\r\n  }\r\n\r\n  function toggleClearableYear() {\r\n    setIsClearableYear(!isClearableYear);\r\n  }\r\n\r\n  function toggleClearableLimit() {\r\n    setIsClearableLimit(!isClearableLimit);\r\n  }\r\n\r\n  return (\r\n    <div className=\"search-bar\">\r\n      <div className=\"row my-4 d-flex mt-3\">\r\n        <div className=\"col-lg-3 col-sm-12 d-flex my-2 my-lg-0\">\r\n          <p class=\"my-2 mr-3 d-none d-sm-block\">Country:</p>\r\n          <Select\r\n            options={countryNames}\r\n            className=\"react-select-country\"\r\n            value={countryNames.filter(\r\n              (option) => option.label === selectedCountry\r\n            )}\r\n            isClearable={isClearableCountry}\r\n            onChange={(e) => {\r\n              if (e !== null) {\r\n                if (e.value === \"All\") {\r\n                  props.onSubmitCountry(\"\");\r\n                  setSelectedCountry(\"All\");\r\n                  if (isClearableCountry) {\r\n                    toggleClearableCountry();\r\n                  }\r\n                } else {\r\n                  props.onSubmitCountry(e.value);\r\n                  setSelectedCountry(e.value);\r\n                  if (!isClearableCountry) {\r\n                    toggleClearableCountry();\r\n                  }\r\n                }\r\n              } else {\r\n                props.onSubmitCountry(\"\");\r\n                setSelectedCountry(\"All\");\r\n                toggleClearableCountry();\r\n              }\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"col-lg-3 col-sm-12 d-flex my-2 my-lg-0\">\r\n          <p class=\"my-2 mx-3 d-none d-sm-block\">Year:</p>\r\n          <Select\r\n            options={yearsOptions}\r\n            className=\"react-select-small\"\r\n            value={yearsOptions.filter(\r\n              (option) => option.label === selectedYear\r\n            )}\r\n            isClearable={isClearableYear}\r\n            onChange={(e) => {\r\n              if (e !== null) {\r\n                if (e.value === \"All\") {\r\n                  props.onSubmitYear(\"\");\r\n                  setSelectedYear(\"All\");\r\n                  if (!isClearableYear) {\r\n                    toggleClearableYear();\r\n                  }\r\n                } else {\r\n                  props.onSubmitYear(e.value);\r\n                  setSelectedYear(e.value);\r\n                  if (!isClearableYear) {\r\n                    toggleClearableYear();\r\n                  }\r\n                }\r\n              } else {\r\n                if (selectedCountry === \"All\") {\r\n                  props.onSubmitCountry(\"\");\r\n                  props.onSubmitYear(\"2020\");\r\n                } else {\r\n                  props.onSubmitCountry(selectedCountry);\r\n                  props.onSubmitYear(\"2020\");\r\n                }\r\n                setSelectedYear(\"2020\");\r\n                toggleClearableYear();\r\n              }\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"col-lg-3 col-sm-12 d-flex my-2 my-lg-0\">\r\n          {props.showLimit ? (\r\n            <>\r\n              <p class=\"my-2 mx-3 d-none d-sm-block\">Limit: </p>\r\n\r\n              <Select\r\n                options={limitOptions}\r\n                className=\"react-select-small\"\r\n                value={limitOptions.filter(\r\n                  (option) => option.label === selectedLimit\r\n                )}\r\n                isClearable={isClearableLimit}\r\n                isDisabled={isLimitDisabled}\r\n                onChange={(e) => {\r\n                  if (e !== null) {\r\n                    if (e.value === \"All\") {\r\n                      props.onSubmitLimit(\"200\");\r\n                      setSelectedLimit(\"All\");\r\n                      if (isClearableLimit) {\r\n                        toggleClearableLimit();\r\n                      }\r\n                    } else {\r\n                      props.onSubmitLimit(e.value);\r\n                      setSelectedLimit(e.value);\r\n                      if (!isClearableLimit) {\r\n                        toggleClearableLimit();\r\n                      }\r\n                    }\r\n                  } else {\r\n                    props.onSubmitLimit(\"200\");\r\n                    setSelectedLimit(\"All\");\r\n                    toggleClearableLimit();\r\n                  }\r\n                }}\r\n              />\r\n            </>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchBar;\r\n","import { React, useState, useEffect } from \"react\";\r\nimport { HorizontalBar } from \"react-chartjs-2\";\r\n\r\nfunction Chart(props) {\r\n  const [chartData, setChartData] = useState({});\r\n\r\n  const backgroundColors = [\r\n    \"rgba(255, 99, 132, 0.6)\",\r\n    \"rgba(54, 162, 235, 0.6)\",\r\n    \"rgba(255, 206, 86, 0.6)\",\r\n    \"rgba(75, 192, 192, 0.6)\",\r\n    \"rgba(153, 102, 255, 0.6)\",\r\n    \"rgba(255, 159, 64, 0.6)\",\r\n    \"rgba(255, 99, 132, 0.6)\",\r\n    \"rgba(54, 162, 235, 0.6)\",\r\n    \"rgba(255, 206, 86, 0.6)\",\r\n    \"rgba(75, 192, 192, 0.6)\",\r\n    \"rgba(153, 102, 255, 0.6)\",\r\n    \"rgba(255, 159, 64, 0.6)\",\r\n    \"rgba(255, 99, 132, 0.6)\",\r\n    \"rgba(54, 162, 235, 0.6)\",\r\n    \"rgba(255, 206, 86, 0.6)\",\r\n  ];\r\n\r\n  useEffect(() => {\r\n    setChartData({\r\n      chartData: {\r\n        labels: props.yAxis,\r\n        datasets: [\r\n          {\r\n            label: props.category,\r\n            data: props.xAxis,\r\n            backgroundColor: backgroundColors,\r\n          },\r\n        ],\r\n      },\r\n    });\r\n  }, [props.countryNames, props.scores, props.category, backgroundColors]);\r\n\r\n  return (\r\n    <div className=\"chart container my-5\">\r\n      <HorizontalBar\r\n        data={chartData.chartData}\r\n        options={{\r\n          responsive: true,\r\n          title: {\r\n            text: `${props.category} Scores ${props.label}`,\r\n            display: true,\r\n          },\r\n          scales: {\r\n            xAxes: [\r\n              {\r\n                maxBarThickness: 100,\r\n              },\r\n            ],\r\n          },\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chart;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nexport default function useCountryData(\r\n  route,\r\n  searchCountry,\r\n  searchYear,\r\n  searchLimit\r\n) {\r\n  const [loading, setLoading] = useState(true);\r\n  const [rowData, setRowData] = useState([]);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (route === \"rankings\") {\r\n      getCountryRankings(searchCountry, searchYear)\r\n        .then((happinessRankings) => {\r\n          setRowData(happinessRankings);\r\n          setLoading(false);\r\n        })\r\n        .catch((e) => {\r\n          setError(e);\r\n          setLoading(false);\r\n        });\r\n    } else if (route === \"factors\") {\r\n      getCountryFactors(searchCountry, searchYear, searchLimit)\r\n        .then((countryFactors) => {\r\n          setRowData(countryFactors);\r\n          setLoading(false);\r\n        })\r\n        .catch((e) => {\r\n          setError(e);\r\n          setLoading(false);\r\n        });\r\n    }\r\n  }, [route, searchCountry, searchYear, searchLimit]);\r\n\r\n  return {\r\n    loading,\r\n    rowData,\r\n    error,\r\n  };\r\n}\r\n\r\nfunction getCountryRankings(searchCountry, searchYear) {\r\n  const url = `https://salty-refuge-23420.herokuapp.com/rankings?year=${searchYear}&country=${searchCountry}`;\r\n  return fetch(url)\r\n    .then((res) => res.json())\r\n    .then((rankings) =>\r\n      rankings.map((ranking) => ({\r\n        rank: ranking.rank,\r\n        country: ranking.country,\r\n        score: ranking.score,\r\n        year: ranking.year,\r\n      }))\r\n    );\r\n}\r\n\r\nfunction getCountryFactors(searchCountry, searchYear, searchLimit) {\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  const headers = {\r\n    accept: \"application/json\",\r\n    \"Content-Type\": \"application/json\",\r\n    Authorization: `Bearer ${token}`,\r\n  };\r\n\r\n  const url = `https://salty-refuge-23420.herokuapp.com/factors/${searchYear}?limit=${searchLimit}&country=${searchCountry}`;\r\n  return fetch(url, { headers })\r\n    .then((res) => res.json())\r\n    .then((countries) =>\r\n      countries.map((country) => ({\r\n        rank: country.rank,\r\n        country: country.country,\r\n        score: country.score,\r\n        economy: country.economy,\r\n        family: country.family,\r\n        health: country.health,\r\n        freedom: country.freedom,\r\n        generosity: country.generosity,\r\n        trust: country.trust,\r\n      }))\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { AgGridReact } from \"ag-grid-react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Badge,\r\n} from \"reactstrap\";\r\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\r\nimport \"ag-grid-community/dist/styles/ag-theme-alpine.css\";\r\nimport SearchBar from \"../SearchBar/SearchBar\";\r\nimport Chart from \"../Chart/Chart\";\r\nimport useCountryData from \"../../api\";\r\nimport { ClipLoader } from \"react-spinners\";\r\nimport \"./CountryRankings.css\";\r\nfunction CountryRankings() {\r\n  document.title = \"Euphorus | Happiness Rankings\";\r\n  const history = useHistory();\r\n  const [searchCountry, setSearchCountry] = useState(\"\");\r\n  const [searchYear, setSearchYear] = useState(\"2020\");\r\n  const { loading, rowData, error } = useCountryData(\r\n    \"rankings\",\r\n    searchCountry,\r\n    searchYear\r\n  );\r\n  const [resultMessage, setResultMessage] = useState(\"\");\r\n  const [modal, setModal] = useState(false);\r\n  const toggleModal = () => setModal(!modal);\r\n\r\n  // Table column names\r\n  const columns = [\r\n    { headerName: \"Rank\", field: \"rank\", sortable: true },\r\n    { headerName: \"Country\", field: \"country\" },\r\n    { headerName: \"Score\", field: \"score\" },\r\n    { headerName: \"Year\", field: \"year\" },\r\n  ];\r\n  let topCountryNames = [];\r\n  let topHappinessScores = [];\r\n\r\n  if (rowData.length > 15) {\r\n    if (searchYear === \"\") {\r\n      // Clear chart data if no year is selected\r\n      topCountryNames = [];\r\n      topHappinessScores = [];\r\n    } else {\r\n      for (let i = 0; i < 15; i++) {\r\n        topCountryNames.push(rowData[i].country);\r\n        topHappinessScores.push(parseFloat(rowData[i].score));\r\n      }\r\n    }\r\n  }\r\n\r\n  // Show error message in modal if no search results are found\r\n  useEffect(() => {\r\n    if (rowData.length === 0 && loading === false) {\r\n      setModal(true);\r\n    }\r\n  }, [loading, rowData]);\r\n\r\n  // Set result message\r\n  useEffect(() => {\r\n    if (searchCountry === \"\") {\r\n      if (searchYear === \"\") {\r\n        setResultMessage(\"Results for countries across all years\");\r\n      } else {\r\n        setResultMessage(`Results for countries in ${searchYear}`);\r\n      }\r\n    } else {\r\n      if (searchYear === \"\") {\r\n        setResultMessage(`Results for ${searchCountry} for all years`);\r\n      } else {\r\n        setResultMessage(`Result for ${searchCountry} in ${searchYear}`);\r\n      }\r\n    }\r\n  }, [rowData]);\r\n\r\n  return (\r\n    <div>\r\n      <SearchBar\r\n        onSubmitCountry={setSearchCountry}\r\n        onSubmitYear={setSearchYear}\r\n        currentYear={searchYear}\r\n        currentCountry=\"All\"\r\n        showAllYears={true}\r\n        rowData={rowData}\r\n        showLimit={false}\r\n      />\r\n      {error === null ? (\r\n        <>\r\n          <p>\r\n            <Badge className=\"bg-secondary-blue\">{rowData.length}</Badge>{\" \"}\r\n            {resultMessage}\r\n          </p>\r\n\r\n          {loading ? (\r\n            <div className=\"w-100 d-flex align-items-center justify-content-center my-4\">\r\n              <ClipLoader color=\"#F96D5C\" />\r\n            </div>\r\n          ) : (\r\n            <div\r\n              className=\"ag-theme-alpine mx-auto \"\r\n              style={{\r\n                height: \"100%\",\r\n              }}\r\n            >\r\n              <AgGridReact\r\n                columnDefs={columns}\r\n                rowData={rowData}\r\n                pagination={true}\r\n                paginationPageSize={40}\r\n                defaultColDef={{ flex: 1, minWidth: 100 }}\r\n                domLayout=\"autoHeight\"\r\n                onRowClicked={(row) =>\r\n                  history.push({\r\n                    pathname: `/details`,\r\n                    search: `?country=${row.data.country}`,\r\n                    state: { data: rowData },\r\n                  })\r\n                }\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {topCountryNames.length > 0 ? (\r\n            <>\r\n              <h3 className=\"text-center mt-5\">\r\n                Top 15 Happiest Countries {searchYear}\r\n              </h3>\r\n\r\n              <Chart\r\n                category=\"Happiness Index\"\r\n                yAxis={topCountryNames}\r\n                xAxis={topHappinessScores}\r\n                label={searchYear}\r\n              />\r\n            </>\r\n          ) : null}\r\n\r\n          <Modal isOpen={modal} toggle={toggleModal} className=\"\">\r\n            <ModalHeader toggle={toggleModal}>Error</ModalHeader>\r\n            <ModalBody>\r\n              Could not find data for '{searchCountry}' in year '{searchYear}'\r\n            </ModalBody>\r\n            <ModalFooter>\r\n              <Button\r\n                color=\"primary\"\r\n                onClick={() => {\r\n                  toggleModal();\r\n                }}\r\n              >\r\n                Ok\r\n              </Button>{\" \"}\r\n            </ModalFooter>\r\n          </Modal>\r\n        </>\r\n      ) : (\r\n        // Redirect to Server error page\r\n        history.push(\"/503error\")\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CountryRankings;\r\n","export default __webpack_public_path__ + \"static/media/header-img.8820eb51.svg\";","import React from \"react\";\r\nimport CountryRankings from \"../components/CountryRankings/CountryRankings\";\r\nimport { Button, Jumbotron } from \"reactstrap\";\r\nimport heroimg from \"../assets/header-img.svg\";\r\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\r\nimport \"ag-grid-community/dist/styles/ag-theme-alpine.css\";\r\n\r\nfunction Rankings() {\r\n  const openWikiPage = () =>\r\n    (window.location.href =\r\n      \"https://en.wikipedia.org/wiki/World_Happiness_Report\");\r\n  return (\r\n    <div>\r\n      <Jumbotron>\r\n        <div className=\"container\">\r\n          <div className=\"row align-items-center\">\r\n            <div className=\"col-md-6 text-center text-md-left\">\r\n              <h1 className=\"jumbotron-heading\">Country Happiness Rankings</h1>\r\n              <p className=\"lead\">\r\n                Euphorus measures what matters - sustainable wellbeing for all.\r\n                Browse the below data and view by country.\r\n              </p>\r\n              <Button\r\n                className=\"btn-rounded\"\r\n                color=\"primary\"\r\n                onClick={openWikiPage}\r\n              >\r\n                Learn More\r\n              </Button>\r\n            </div>\r\n\r\n            <div className=\"col-md-6\">\r\n              <img\r\n                className=\"img-fluid\"\r\n                src={heroimg}\r\n                alt=\"Two people running through field\"\r\n              ></img>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Jumbotron>\r\n      <section className=\"container py-1 px-3 rounded bg-light-grey\">\r\n        <CountryRankings />\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Rankings;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { AgGridReact } from \"ag-grid-react\";\r\nimport Select from \"react-select\";\r\nimport {\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Badge,\r\n} from \"reactstrap\";\r\nimport SearchBar from \"../SearchBar/SearchBar\";\r\nimport Chart from \"../Chart/Chart\";\r\nimport { ClipLoader } from \"react-spinners\";\r\nimport useCountryData from \"../../api\";\r\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\r\nimport \"ag-grid-community/dist/styles/ag-theme-alpine.css\";\r\nimport \"./CountryFactors.css\";\r\n\r\nfunction CountryFactors() {\r\n  document.title = \"Euphorus | Happiness Factors\";\r\n  const history = useHistory();\r\n  const [searchCountry, setSearchCountry] = useState(\"\");\r\n  const [searchYear, setSearchYear] = useState(\"2020\");\r\n  const [defaultLimitOptions, setDefaultLimitOptions] = useState([]);\r\n\r\n  // Default search limit is 200 incase more countries to API later\r\n  const [searchLimit, setSearchLimit] = useState(200);\r\n  const { loading, rowData, error } = useCountryData(\r\n    \"factors\",\r\n    searchCountry,\r\n    searchYear,\r\n    searchLimit\r\n  );\r\n  const [resultMessage, setResultMessage] = useState(\"\");\r\n  const [selectedFactor, setSelectedFactor] = useState(\"Economy\");\r\n  const [selectedFactorData, setSelectedFactorData] = useState([]);\r\n  const [modal, setModal] = useState(false);\r\n\r\n  const toggleModal = () => setModal(!modal);\r\n\r\n  // For the factors dropdown\r\n  let factorOptions = [\r\n    { label: \"Economy\", value: \"Economy\" },\r\n    { label: \"Family\", value: \"Family\" },\r\n    { label: \"Health\", value: \"Health\" },\r\n    { label: \"Freedom\", value: \"Freedom\" },\r\n    { label: \"Generosity\", value: \"Generosity\" },\r\n    { label: \"Trust\", value: \"Trust\" },\r\n  ];\r\n\r\n  // Chart data for each factor\r\n  let topCountryNames = [];\r\n  let economyScores = [];\r\n  let familyScores = [];\r\n  let healthScores = [];\r\n  let freedomScores = [];\r\n  let generosityScores = [];\r\n  let trustScores = [];\r\n\r\n  if (rowData.length >= 15 && searchLimit >= 15) {\r\n    // Get country names once\r\n    for (let i = 0; i < 15; i++) {\r\n      topCountryNames.push(rowData[i].country);\r\n    }\r\n\r\n    // Get scores for each happiness factor\r\n    for (let i = 0; i < 15; i++) {\r\n      economyScores.push(rowData[i].economy);\r\n      familyScores.push(rowData[i].family);\r\n      freedomScores.push(rowData[i].freedom);\r\n      healthScores.push(rowData[i].health);\r\n      generosityScores.push(rowData[i].generosity);\r\n      trustScores.push(rowData[i].trust);\r\n    }\r\n  }\r\n\r\n  // Table column names\r\n  const columns = [\r\n    { headerName: \"Rank\", field: \"rank\", sortable: true },\r\n    { headerName: \"Country\", field: \"country\" },\r\n    { headerName: \"Score\", field: \"score\" },\r\n    { headerName: \"Economy\", field: \"economy\" },\r\n    { headerName: \"Family\", field: \"family\" },\r\n    { headerName: \"Health\", field: \"health\" },\r\n    { headerName: \"Freedom\", field: \"freedom\" },\r\n    { headerName: \"Generosity\", field: \"generosity\" },\r\n    { headerName: \"Trust\", field: \"trust\" },\r\n  ];\r\n\r\n  // Set limit options dropown initially after request finshes loading\r\n  useEffect(() => {\r\n    if (loading === false) {\r\n      setSelectedFactorData(economyScores);\r\n      let nums = Array.from({ length: rowData.length }, (_, i) => i + 1);\r\n      nums.reverse();\r\n      let limitOptions = nums.map(function (num) {\r\n        return { label: num, value: num };\r\n      });\r\n      limitOptions.unshift({ label: \"All\", value: \"All\" });\r\n      setDefaultLimitOptions(limitOptions);\r\n    }\r\n  }, [loading]);\r\n\r\n  // Show error modal if no results come back\r\n  useEffect(() => {\r\n    if (rowData.length === 0 && loading === false) {\r\n      setModal(true);\r\n    }\r\n  }, [loading, rowData]);\r\n\r\n  // Set result message\r\n  useEffect(() => {\r\n    if (searchCountry === \"\") {\r\n      setResultMessage(`Results for countries in ${searchYear}`);\r\n    } else {\r\n      setResultMessage(`Result for ${searchCountry} in ${searchYear}`);\r\n    }\r\n  }, [rowData]);\r\n\r\n  return (\r\n    <div>\r\n      <SearchBar\r\n        onSubmitCountry={setSearchCountry}\r\n        onSubmitYear={setSearchYear}\r\n        onSubmitLimit={setSearchLimit}\r\n        currentYear={searchYear}\r\n        currentCountry=\"All\"\r\n        showAllYears={false}\r\n        rowData={rowData}\r\n        showLimit={true}\r\n        defaultLimitOptions={defaultLimitOptions}\r\n      />\r\n      {error === null ? (\r\n        <>\r\n          <p>\r\n            <Badge className=\"bg-secondary-blue\">{rowData.length}</Badge>{\" \"}\r\n            {resultMessage}\r\n          </p>\r\n\r\n          {loading ? (\r\n            <div className=\"w-100 d-flex align-items-center justify-content-center my-4\">\r\n              <ClipLoader color=\"#F96D5C\" />\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <div\r\n                className=\"ag-theme-alpine mx-auto \"\r\n                style={{\r\n                  height: \"100%\",\r\n                }}\r\n              >\r\n                <AgGridReact\r\n                  columnDefs={columns}\r\n                  rowData={rowData}\r\n                  pagination={true}\r\n                  paginationPageSize={40}\r\n                  defaultColDef={{ flex: 1, minWidth: 100 }}\r\n                  domLayout=\"autoHeight\"\r\n                />\r\n              </div>\r\n              {topCountryNames.length > 0 ? (\r\n                <>\r\n                  <h3 className=\"text-center mt-5\">\r\n                    Happiness Factors Comparison {searchYear}\r\n                  </h3>\r\n                  <h4 className=\"text-center text-muted\">(Top 15 Countries)</h4>\r\n                  <Select\r\n                    options={factorOptions}\r\n                    className=\"react-select-factor\"\r\n                    value={factorOptions.filter(\r\n                      (option) => option.label === selectedFactor\r\n                    )}\r\n                    onChange={(e) => {\r\n                      if (e.value === \"Economy\") {\r\n                        setSelectedFactorData(economyScores);\r\n                      } else if (e.value === \"Family\") {\r\n                        setSelectedFactorData(familyScores);\r\n                      } else if (e.value === \"Health\") {\r\n                        setSelectedFactorData(healthScores);\r\n                      } else if (e.value === \"Freedom\") {\r\n                        setSelectedFactorData(freedomScores);\r\n                      } else if (e.value === \"Family\") {\r\n                        setSelectedFactorData(generosityScores);\r\n                      } else if (e.value === \"Trust\") {\r\n                        setSelectedFactorData(trustScores);\r\n                      }\r\n                      setSelectedFactor(e.value);\r\n                    }}\r\n                  />\r\n                  <Chart\r\n                    category={selectedFactor}\r\n                    yAxis={topCountryNames}\r\n                    xAxis={selectedFactorData}\r\n                    label={searchYear}\r\n                  />\r\n                  <Modal isOpen={modal} toggle={toggleModal} className=\"\">\r\n                    <ModalHeader toggle={toggleModal}>Error</ModalHeader>\r\n                    <ModalBody>\r\n                      Could not find data for '{searchCountry}' in year '\r\n                      {searchYear}'\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                      <Button\r\n                        color=\"primary\"\r\n                        onClick={() => {\r\n                          toggleModal();\r\n                        }}\r\n                      >\r\n                        Ok\r\n                      </Button>{\" \"}\r\n                    </ModalFooter>\r\n                  </Modal>\r\n                </>\r\n              ) : null}\r\n            </>\r\n          )}\r\n        </>\r\n      ) : (\r\n        // Redirect to Server error page\r\n        history.push(\"/503error\")\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CountryFactors;\r\n","export default __webpack_public_path__ + \"static/media/factors.70d77bab.svg\";","import React from \"react\";\r\nimport { Button, Jumbotron } from \"reactstrap\";\r\nimport CountryFactors from \"../components/CounctryFactors/CountryFactors\";\r\nimport factorsimg from \"../assets/factors.svg\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\r\nimport \"ag-grid-community/dist/styles/ag-theme-alpine.css\";\r\n\r\nfunction Factors() {\r\n  const openWikiPage = () =>\r\n    (window.location.href =\r\n      \"https://en.wikipedia.org/wiki/World_Happiness_Report\");\r\n  return (\r\n    <div>\r\n      <Jumbotron>\r\n        <div className=\"container\">\r\n          <div className=\"row align-items-center\">\r\n            <div className=\"col-md-6 text-center text-md-left\">\r\n              <h1 className=\"jumbotron-heading\">Country Happiness Factors</h1>\r\n              <p className=\"lead\">Explore happiness factors by country.</p>\r\n              <Button\r\n                className=\"btn-rounded\"\r\n                color=\"primary\"\r\n                onClick={openWikiPage}\r\n              >\r\n                Learn More\r\n              </Button>\r\n            </div>\r\n\r\n            <div className=\"col-md-6\">\r\n              <img\r\n                className=\"img-fluid\"\r\n                src={factorsimg}\r\n                alt=\"Location markers on globe\"\r\n              ></img>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Jumbotron>\r\n      <section className=\"container py-1 px-3 rounded bg-light-grey\">\r\n        <CountryFactors />\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(Factors);\r\n","export default __webpack_public_path__ + \"static/media/login.fc2f83c9.svg\";","import { React, useState, useContext } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { Alert } from \"reactstrap\";\r\nimport loginimg from \"../assets/login.svg\";\r\nimport { LoginContext } from \"../helper/Context\";\r\nconst API_URL = \"https://salty-refuge-23420.herokuapp.com\";\r\n\r\nfunction Login(props) {\r\n  document.title = \"Euphorus | Login\";\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [loginMessage, setLoginMessage] = useState(props.location.state.msg);\r\n  const { loggedIn, setLoggedIn } = useContext(LoginContext);\r\n  const history = useHistory();\r\n\r\n  function login() {\r\n    const url = `${API_URL}/user/login`;\r\n    return fetch(url, {\r\n      method: \"POST\",\r\n      headers: {\r\n        accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        email: email,\r\n        password: password,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        if (res.message !== \"\" && res.message !== undefined) {\r\n          setLoginMessage(res.message);\r\n        } else {\r\n          setLoginMessage(\"Login Successful!\");\r\n          setLoggedIn(true);\r\n          localStorage.setItem(\"token\", res.token);\r\n          history.push(\"/factors\");\r\n        }\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row mt-5\">\r\n        <div className=\"col-md-6 my-3\">\r\n          <h2>Login</h2>\r\n          {loginMessage !== \"\" && loginMessage !== \"Login Successful!\" ? (\r\n            <Alert color=\"danger\">{loginMessage}</Alert>\r\n          ) : loginMessage === \"Login Successful!\" ? (\r\n            <Alert color=\"success\">{loginMessage}</Alert>\r\n          ) : null}\r\n          <form className=\"form mt-4\">\r\n            <div className=\"form-group\">\r\n              <input\r\n                id=\"email\"\r\n                type=\"text\"\r\n                name=\"email\"\r\n                placeholder=\"Email Address\"\r\n                className=\"form-control\"\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input\r\n                id=\"password\"\r\n                type=\"password\"\r\n                name=\"password\"\r\n                placeholder=\"Password\"\r\n                className=\"form-control\"\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                required\r\n              />\r\n              <input\r\n                type=\"submit\"\r\n                id=\"submit\"\r\n                className=\"btn btn-primary my-3\"\r\n                name=\"submit\"\r\n                value=\"Login\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  login();\r\n                }}\r\n              />\r\n            </div>\r\n          </form>\r\n          <p className=\"mt-4\">\r\n            No Account Yet? <Link to=\"/register\">Register here</Link>\r\n          </p>\r\n        </div>\r\n        <div className=\"col-md-6 my-3\">\r\n          <img\r\n            className=\"img-fluid\"\r\n            src={loginimg}\r\n            alt=\"Laptop with lock on the screen\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","export default __webpack_public_path__ + \"static/media/register.63e33ab4.svg\";","import { React, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Alert } from \"reactstrap\";\r\nimport registerimg from \"../assets/register.svg\";\r\nconst API_URL = \"https://salty-refuge-23420.herokuapp.com\";\r\n\r\nfunction Register() {\r\n  document.title = \"Euphorus | Register\";\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [registerMessage, setRegisterMessage] = useState(\"\");\r\n\r\n  function register() {\r\n    const url = `${API_URL}/user/register`;\r\n    return fetch(url, {\r\n      method: \"POST\",\r\n      headers: {\r\n        accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ email: email, password: password }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        console.log(res);\r\n        setRegisterMessage(res.message);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row mt-5\">\r\n        <div className=\"col-md-6 my-3\">\r\n          <h2>Register</h2>\r\n          {registerMessage !== \"\" && registerMessage !== \"User created\" ? (\r\n            <Alert color=\"danger\">{registerMessage}</Alert>\r\n          ) : registerMessage === \"User created\" ? (\r\n            <Alert color=\"success\">\r\n              Registration Successful! Click{\" \"}\r\n              <Link\r\n                to={{\r\n                  pathname: \"/login\",\r\n                  state: {\r\n                    msg: \"\",\r\n                  },\r\n                }}\r\n              >\r\n                here\r\n              </Link>{\" \"}\r\n              to login\r\n            </Alert>\r\n          ) : null}\r\n          <form className=\"form mt-4\">\r\n            <div className=\"form-group\">\r\n              <input\r\n                id=\"email\"\r\n                type=\"text\"\r\n                name=\"email\"\r\n                placeholder=\"Email Address\"\r\n                className=\"form-control\"\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input\r\n                id=\"password\"\r\n                type=\"password\"\r\n                name=\"password\"\r\n                placeholder=\"Password\"\r\n                className=\"form-control\"\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                required\r\n              />\r\n            </div>\r\n            <input\r\n              type=\"submit\"\r\n              id=\"submit\"\r\n              className=\"btn btn-primary\"\r\n              name=\"submit\"\r\n              value=\"Register\"\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                register();\r\n              }}\r\n            />\r\n          </form>\r\n        </div>\r\n        <div className=\"col-md-6 my-3\">\r\n          <img\r\n            className=\"img-fluid\"\r\n            src={registerimg}\r\n            alt=\"Person putting password into form\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React from \"react\";\r\nimport { Button } from \"reactstrap\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { AgGridReact } from \"ag-grid-react\";\r\nimport Chart from \"../components/Chart/Chart\";\r\nimport useCountryData from \"../api\";\r\n\r\nfunction CountryDetails(props) {\r\n  const history = useHistory();\r\n  const params = new URLSearchParams(useLocation().search);\r\n  const countryName = params.get(\"country\");\r\n\r\n  // Empty string as third parameter retrieves all years\r\n  const { loading, rowData, error } = useCountryData(\r\n    \"rankings\",\r\n    countryName,\r\n    \"\"\r\n  );\r\n\r\n  const columns = [\r\n    { headerName: \"Rank\", field: \"rank\", sortable: true },\r\n    { headerName: \"Country\", field: \"country\" },\r\n    { headerName: \"Score\", field: \"score\" },\r\n    { headerName: \"Year\", field: \"year\" },\r\n  ];\r\n\r\n  let years = [2020, 2019, 2018, 2017, 2016, 2015];\r\n  let happinessScores = [];\r\n\r\n  for (let i = 0; i < rowData.length; i++) {\r\n    happinessScores.push(parseFloat(rowData[i].score));\r\n  }\r\n\r\n  return (\r\n    <div className=\"container my-5\">\r\n      <h2>{countryName}</h2>\r\n\r\n      <div className=\"row mt-5 mb-3\">\r\n        {loading === false ? (\r\n          <>\r\n            <div className=\"col-12 col-lg-6\">\r\n              <div\r\n                className=\"ag-theme-alpine mx-auto \"\r\n                style={{\r\n                  height: \"100%\",\r\n                }}\r\n              >\r\n                <AgGridReact\r\n                  columnDefs={columns}\r\n                  rowData={rowData}\r\n                  pagination={true}\r\n                  paginationPageSize={40}\r\n                  defaultColDef={{ flex: 1, minWidth: 100 }}\r\n                  domLayout=\"autoHeight\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-12 col-lg-6\">\r\n              <Chart\r\n                category=\"Happiness Index\"\r\n                yAxis={years}\r\n                xAxis={happinessScores}\r\n                label={countryName}\r\n              />\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <h3 className=\"mx-auto\">Loading...</h3>\r\n        )}\r\n      </div>\r\n\r\n      <Button\r\n        color=\"btn btn-rounded btn-secondary\"\r\n        size=\"sm\"\r\n        className=\"mt-3\"\r\n        onClick={() => history.goBack()}\r\n      >\r\n        Back\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CountryDetails;\r\n","export default __webpack_public_path__ + \"static/media/logo.3fd0af86.PNG\";","import React, { useState, useContext } from \"react\";\r\nimport { LoginContext } from \"../../helper/Context\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Collapse,\r\n  Navbar,\r\n  NavbarToggler,\r\n  NavbarBrand,\r\n  Nav,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n} from \"reactstrap\";\r\nimport logo from \"../../assets/logo.PNG\";\r\nimport \"./Navigation.css\";\r\n\r\nfunction Navigation() {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const { loggedIn, setLoggedIn } = useContext(LoginContext);\r\n\r\n  const toggle = () => setIsOpen(!isOpen);\r\n\r\n  function logout() {\r\n    localStorage.removeItem(\"token\");\r\n    setLoggedIn(false);\r\n  }\r\n\r\n  const [modal, setModal] = useState(false);\r\n\r\n  const toggleModal = () => setModal(!modal);\r\n\r\n  return (\r\n    <div className=\"my-1\">\r\n      <Container>\r\n        <Navbar light expand=\"md\">\r\n          <NavbarBrand>\r\n            <Link to=\"/\">\r\n              <img className=\"logo\" src={logo} alt=\"Euphorus Logo\"></img>\r\n            </Link>\r\n          </NavbarBrand>\r\n          <NavbarToggler onClick={toggle} />\r\n          <Collapse isOpen={isOpen} navbar>\r\n            <Nav className=\"text-center ml-md-auto\" navbar>\r\n              <Link to=\"/\">\r\n                <Button color=\"link shadow-none\">Rankings</Button>\r\n              </Link>\r\n              <Link to=\"/factors\">\r\n                <Button color=\"link shadow-none\">Factors</Button>\r\n              </Link>\r\n              {loggedIn ? (\r\n                <Button\r\n                  color=\"primary\"\r\n                  className=\"btn-rounded btn-primary w-100\"\r\n                  onClick={toggleModal}\r\n                >\r\n                  Logout\r\n                </Button>\r\n              ) : (\r\n                <>\r\n                  <Link\r\n                    to={{\r\n                      pathname: \"/login\",\r\n                      state: {\r\n                        msg: \"\",\r\n                      },\r\n                    }}\r\n                  >\r\n                    <Button color=\"link shadow-none\">Login</Button>\r\n                  </Link>\r\n                  <Link to=\"/register\">\r\n                    <Button\r\n                      color=\"primary\"\r\n                      className=\"btn-rounded btn-primary w-100\"\r\n                    >\r\n                      Register\r\n                    </Button>\r\n                  </Link>\r\n                </>\r\n              )}\r\n            </Nav>\r\n          </Collapse>\r\n        </Navbar>\r\n\r\n        <Modal isOpen={modal} toggle={toggleModal} className=\"\">\r\n          <ModalHeader toggle={toggleModal}>Logout</ModalHeader>\r\n          <ModalBody>Are you sure you want to logout?</ModalBody>\r\n          <ModalFooter>\r\n            <Button\r\n              color=\"primary\"\r\n              onClick={() => {\r\n                toggleModal();\r\n                logout();\r\n              }}\r\n            >\r\n              Logout\r\n            </Button>{\" \"}\r\n          </ModalFooter>\r\n        </Modal>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Navigation;\r\n","export default __webpack_public_path__ + \"static/media/logowhite.d7bcc23b.png\";","import React from \"react\";\r\nimport logo from \"../../assets/logowhite.png\";\r\nimport { Button } from \"reactstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Footer.css\";\r\n\r\nfunction Footer() {\r\n  const openApi = () =>\r\n    (window.location.href = \"https://salty-refuge-23420.herokuapp.com/\");\r\n  return (\r\n    <footer className=\"mt-5 py-4\">\r\n      <div className=\"footer-main container text-center text-md-left\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-3 col-sm-12\">\r\n            <img class=\"logo\" src={logo} alt=\"logo\" />\r\n          </div>\r\n          <div className=\"col-md-2 col-sm-12\">\r\n            <ul className=\"list-unstyled\">\r\n              <li className=\"my-3\">\r\n                <Link to=\"/\" className=\"text-white\">\r\n                  Rankings\r\n                </Link>\r\n              </li>\r\n              <li className=\"my-3\">\r\n                <Link to=\"/factors\" className=\"text-white\">\r\n                  Factors\r\n                </Link>\r\n              </li>\r\n              <li className=\"my-3\">\r\n                <a className=\"text-white\" href=\"\">\r\n                  Blog\r\n                </a>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div className=\"col-md-2 col-sm-12\">\r\n            <ul className=\"list-unstyled\">\r\n              <li className=\"my-3\">\r\n                <a className=\"text-white\" href=\"\">\r\n                  About Us\r\n                </a>\r\n              </li>\r\n              <li className=\"my-3\">\r\n                <a className=\"text-white\" href=\"\">\r\n                  Use Cases\r\n                </a>\r\n              </li>\r\n              <li className=\"my-2\">\r\n                <a className=\"text-white\" href=\"\">\r\n                  API\r\n                </a>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div className=\"col-md-4 col-sm-12 \">\r\n            <div className=\"d-flex flex-column align-items-md-end\">\r\n              <div class=\"btn-container\">\r\n                <Button\r\n                  className=\"btn-rounded btn-secondary my-3\"\r\n                  onClick={() => openApi()}\r\n                >\r\n                  View API\r\n                </Button>\r\n              </div>\r\n\r\n              <p className=\"text-white mt-2\">© Euphorus. All Rights Reserved</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport { Route, Redirect, withRouter } from \"react-router-dom\";\r\n\r\nfunction ProtectedRoute({ isAuth: isAuth, component: Component, ...rest }) {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        if (isAuth) {\r\n          return <Component />;\r\n        } else {\r\n          return (\r\n            <Redirect\r\n              to={{\r\n                pathname: \"/login\",\r\n                state: {\r\n                  from: props.location,\r\n                  msg: \"You must be logged in to view this page!\",\r\n                },\r\n              }}\r\n            />\r\n          );\r\n        }\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport default withRouter(ProtectedRoute);\r\n","export default __webpack_public_path__ + \"static/media/pagenotfound.9ba286cb.svg\";","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"reactstrap\";\r\nimport pagenotfound from \"../assets/pagenotfound.svg\";\r\n\r\nfunction PageNotFound() {\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row align-items-center my-5\">\r\n        <div className=\"col-md-6\">\r\n          <h2>Oh No! Error 404.</h2>\r\n          <p>The page your looking for could not be found</p>\r\n          <Link to=\"/\">\r\n            <Button className=\"btn-rounded\">Back to Home</Button>\r\n          </Link>\r\n        </div>\r\n\r\n        <div className=\"col-md-6\">\r\n          <img className=\"img-fluid\" src={pagenotfound} alt=\"pagenotfound\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PageNotFound;\r\n","export default __webpack_public_path__ + \"static/media/503error.0b6dc65a.svg\";","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"reactstrap\";\r\nimport servererror from \"../assets/503error.svg\";\r\n\r\nfunction ServerError() {\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row align-items-center my-5\">\r\n        <div className=\"col-md-6\">\r\n          <h2>Internal Server Error</h2>\r\n          <p>There was a problem fetching the country data</p>\r\n          <Link to=\"/\">\r\n            <Button className=\"btn-rounded\">Back to Home</Button>\r\n          </Link>\r\n        </div>\r\n\r\n        <div className=\"col-md-6\">\r\n          <img className=\"img-fluid\" src={servererror} alt=\"pagenotfound\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ServerError;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport { LoginContext } from \"./helper/Context\";\r\nimport Rankings from \"./pages/Rankings\";\r\nimport Factors from \"./pages/Factors\";\r\nimport Login from \"./pages/Login\";\r\nimport Register from \"./pages/Register\";\r\nimport CountryDetails from \"./pages/CountryDetails\";\r\nimport Navigation from \"./components/Navbar/Navigation\";\r\nimport Footer from \"./components/Footer/Footer\";\r\nimport \"./App.css\";\r\nimport ProtectedRoute from \"./pages/ProtectedRoute\";\r\nimport PageNotFound from \"./pages/PageNotFound\";\r\nimport ServerError from \"./pages/ServerError\";\r\n\r\nfunction App() {\r\n  const token = localStorage.getItem(\"token\");\r\n  const [loggedIn, setLoggedIn] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (token !== \"\" && token !== undefined && token !== null) {\r\n      setLoggedIn(true);\r\n    } else {\r\n      setLoggedIn(false);\r\n    }\r\n  }, [token]);\r\n\r\n  return (\r\n    <LoginContext.Provider value={{ loggedIn, setLoggedIn }}>\r\n      <Router>\r\n        <Navigation />\r\n        <Switch>\r\n          <Route path=\"/\" exact component={Rankings}></Route>\r\n          <ProtectedRoute\r\n            path=\"/factors\"\r\n            component={Factors}\r\n            isAuth={loggedIn}\r\n          />\r\n          <Route path=\"/login\" component={Login}></Route>\r\n          <Route path=\"/register\" component={Register}></Route>\r\n          <Route path=\"/503error\" component={ServerError}></Route>\r\n          <Route path=\"/details\" component={CountryDetails}></Route>\r\n          <Route component={PageNotFound} />\r\n        </Switch>\r\n        <Footer />\r\n      </Router>\r\n    </LoginContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}